"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[554],{1332:(e,a,s)=>{s.d(a,{A:()=>c});var r=s(3589),l=s(6540),n=s(4848);function t(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var r,l,n,t,i=[],c=!0,o=!1;try{if(n=(s=s.call(e)).next,0===a){if(Object(s)!==s)return;c=!1}else for(;!(c=(r=n.call(s)).done)&&(i.push(r.value),i.length!==a);c=!0);}catch(e){o=!0,l=e}finally{try{if(!c&&null!=s.return&&(t=s.return(),Object(t)!==t))return}finally{if(o)throw l}}return i}}(e,a)||function(e,a){if(e){if("string"==typeof e)return i(e,a);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?i(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,a){(null==a||a>e.length)&&(a=e.length);for(var s=0,r=Array(a);s<a;s++)r[s]=e[s];return r}function c(e){var a=e.header,s=e.children,i=(0,r.N5)().props.auth.user,c=t((0,l.useState)(!1),2),o=c[0],d=c[1],h=t((0,l.useState)(!1),2),m=h[0],_=h[1],p=(0,l.useRef)(null),u=(0,l.useRef)(null),j=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e=function(e){p.current&&!p.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,l.useEffect)((function(){var e=function(e){u.current&&!u.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&_(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,n.jsxs)("div",{className:"min-h-screen bg-f5f7fa",children:[(0,n.jsxs)("header",{className:"l-header",children:[(0,n.jsxs)("div",{className:"l-header__inner",children:[(0,n.jsx)(r.N_,{href:"/",className:"l-header__logo",children:(0,n.jsx)("span",{className:"l-header__logo-accent",children:"match"})}),(0,n.jsxs)("nav",{className:"l-header__nav",children:[(0,n.jsx)(r.N_,{href:"/job-listings",className:"l-header__nav-link",children:"案件一覧"}),(0,n.jsx)(r.N_,{href:"/post-job",className:"l-header__nav-link",children:"案件を投稿"}),(0,n.jsxs)("div",{className:"l-header__user-menu",ref:p,children:[(0,n.jsxs)("button",{onClick:function(){return d(!o)},className:"l-header__user-button",children:[(0,n.jsx)("div",{className:"l-header__user-avatar",children:i.avatar?(0,n.jsx)("img",{src:i.avatar.startsWith("/")?i.avatar:"/".concat(i.avatar),alt:"".concat(i.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=i.name.charAt(0).toUpperCase())}}):i.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{className:"l-header__user-info",children:[(0,n.jsx)("span",{className:"l-header__login-status",children:"ログイン中"}),(0,n.jsxs)("span",{className:"l-header__user-name",children:[i.name,"さん"]})]}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M6 9l6 6 6-6"})})]}),o&&(0,n.jsxs)("div",{className:"l-header__dropdown",children:[(0,n.jsx)(r.N_,{href:route("dashboard"),className:"l-header__dropdown-item",children:"マイページ"}),(0,n.jsx)(r.N_,{href:route("profile.edit"),className:"l-header__dropdown-item",children:"プロフィール編集"}),(0,n.jsx)(r.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__dropdown-item l-header__dropdown-item--danger",children:"ログアウト"})]})]})]}),(0,n.jsx)("button",{className:"l-header__mobile-button",onClick:function(){return _(!m)},ref:j,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,n.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,n.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),m&&(0,n.jsxs)("div",{className:"l-header__mobile-menu",ref:u,children:[(0,n.jsxs)("div",{className:"l-header__mobile-user",children:[(0,n.jsx)("div",{className:"l-header__user-avatar",children:i.avatar?(0,n.jsx)("img",{src:i.avatar.startsWith("/")?i.avatar:"/".concat(i.avatar),alt:"".concat(i.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=i.name.charAt(0).toUpperCase())}}):i.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{className:"l-header__mobile-user-info",children:[(0,n.jsxs)("span",{className:"l-header__mobile-user-name",children:[i.name,"さん"]}),(0,n.jsx)("span",{className:"l-header__mobile-login-status",children:"ログイン中"})]})]}),(0,n.jsx)(r.N_,{href:"/job-listings",className:"l-header__mobile-link",children:"案件一覧"}),(0,n.jsx)(r.N_,{href:"/post-job",className:"l-header__mobile-link",children:"案件を投稿"}),(0,n.jsx)(r.N_,{href:route("dashboard"),className:"l-header__mobile-link",children:"マイページ"}),(0,n.jsx)(r.N_,{href:route("profile.edit"),className:"l-header__mobile-link",children:"プロフィール編集"}),(0,n.jsx)(r.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__mobile-link l-header__mobile-link--danger",children:"ログアウト"})]})]}),a&&(0,n.jsx)("div",{className:"p-dashboard__header",children:(0,n.jsx)("div",{className:"p-dashboard__header-inner",children:a})}),(0,n.jsx)("main",{className:"main-content",children:s}),(0,n.jsx)("footer",{className:"l-footer",children:(0,n.jsxs)("div",{className:"l-footer__container",children:[(0,n.jsxs)("div",{className:"l-footer__content",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(r.N_,{href:"/",className:"l-footer__logo",children:(0,n.jsx)("span",{className:"l-footer__logo-accent",children:"match"})}),(0,n.jsx)("p",{className:"l-footer__description",children:"エンジニア向けの案件マッチングサービス。 単発案件からレベニューシェア案件まで、 シンプルに探せて、すぐに応募できます。"}),(0,n.jsx)("div",{className:"l-footer__social",children:(0,n.jsx)("a",{href:"#",className:"l-footer__social-icon",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"l-footer__heading",children:"案件を探す"}),(0,n.jsxs)("ul",{className:"l-footer__links",children:[(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(r.N_,{href:"/job-listings?type=onetime",className:"l-footer__link",children:"単発案件"})}),(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(r.N_,{href:"/job-listings?type=revenue",className:"l-footer__link",children:"レベニューシェア案件"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"l-footer__heading",children:"アカウント"}),(0,n.jsxs)("ul",{className:"l-footer__links",children:[(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(r.N_,{href:route("dashboard"),className:"l-footer__link",children:"マイページ"})}),(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(r.N_,{href:route("profile.edit"),className:"l-footer__link",children:"プロフィール編集"})})]})]})]}),(0,n.jsxs)("div",{className:"l-footer__copyright",children:["© ",(new Date).getFullYear()," match. All rights reserved."]})]})})]})}},4294:(e,a,s)=>{s.d(a,{A:()=>l});var r=s(4848);function l(e){var a=e.message,s=e.className,l=void 0===s?"":s;return a?(0,r.jsx)("div",{className:"c-error ".concat(l),children:a}):null}},4554:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var r=s(3589),l=s(1332),n=s(4294),t=s(4848);function i(e){e.auth;var a=e.jobListing,s=e.alreadyApplied,i=e.application,c=(0,r.mN)({message:""}),o=c.data,d=c.setData,h=c.post,m=c.processing,_=c.errors,p=function(){return"revenue_share"===a.type||!a.budget_min&&!a.budget_max?null:a.budget_min&&a.budget_max?"¥".concat(a.budget_min.toLocaleString()," 〜 ¥").concat(a.budget_max.toLocaleString()):a.budget_min?"¥".concat(a.budget_min.toLocaleString()," 〜"):a.budget_max?"〜 ¥".concat(a.budget_max.toLocaleString()):void 0};return(0,t.jsxs)(l.A,{header:(0,t.jsx)("div",{className:"p-apply__title",children:"案件応募"}),children:[(0,t.jsx)(r.p3,{title:"「".concat(a.title,"」への応募 - Match")}),(0,t.jsx)("div",{className:"p-apply",children:(0,t.jsxs)("div",{className:"p-apply__container",children:[(0,t.jsxs)("div",{className:"p-apply__breadcrumb",children:[(0,t.jsx)(r.N_,{href:route("job-listings.index"),className:"p-apply__breadcrumb-link",children:"案件一覧"}),(0,t.jsx)("span",{className:"p-apply__breadcrumb-separator",children:">"}),(0,t.jsx)(r.N_,{href:route("job-listings.show",a.id),className:"p-apply__breadcrumb-link",children:a.title}),(0,t.jsx)("span",{className:"p-apply__breadcrumb-separator",children:">"}),(0,t.jsx)("span",{className:"p-apply__breadcrumb-current",children:"応募"})]}),(0,t.jsx)("div",{className:"p-apply__content",children:(0,t.jsxs)("div",{className:"p-apply__card",children:[(0,t.jsx)("h1",{className:"p-apply__card-title",children:"応募情報"}),(0,t.jsxs)("div",{className:"p-apply__job-summary",children:[(0,t.jsx)("h2",{className:"p-apply__job-title",children:a.title}),(0,t.jsxs)("div",{className:"p-apply__job-meta",children:[(0,t.jsx)("span",{className:"p-apply__job-type",children:"one_time"===a.type?"単発案件":"レベニューシェア"}),p()&&(0,t.jsxs)("span",{className:"p-apply__job-budget",children:["予算: ",p()]})]}),(0,t.jsxs)("div",{className:"p-apply__job-poster",children:["投稿者: ",a.user.name]})]}),s?(0,t.jsxs)("div",{className:"p-apply__already-applied",children:[(0,t.jsxs)("div",{className:"p-apply__status",children:[(0,t.jsx)("span",{className:"p-apply__status-label",children:"応募状況:"}),(0,t.jsx)("span",{className:"p-apply__status-value",children:function(e){switch(e){case"pending":return"応募中（確認待ち）";case"accepted":return"承認済み";case"declined":return"不採用";default:return""}}(i.status)})]}),(0,t.jsxs)("div",{className:"p-apply__message",children:[(0,t.jsx)("h3",{className:"p-apply__message-title",children:"あなたの応募メッセージ:"}),(0,t.jsx)("div",{className:"p-apply__message-content",children:i.message})]}),(0,t.jsx)("div",{className:"p-apply__action",children:(0,t.jsx)(r.N_,{href:route("job-listings.show",a.id),className:"p-apply__back-button",children:"案件詳細に戻る"})})]}):(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(route("job-listings.apply.store",a.id))},className:"p-apply__form",children:[(0,t.jsxs)("div",{className:"p-apply__form-group",children:[(0,t.jsxs)("label",{htmlFor:"message",className:"p-apply__form-label",children:["応募メッセージ",(0,t.jsx)("span",{className:"p-apply__required",children:"*"})]}),(0,t.jsx)("textarea",{id:"message",className:"p-apply__form-textarea",placeholder:"案件に対するあなたの強みや、質問事項などをメッセージしてください",value:o.message,onChange:function(e){return d("message",e.target.value)},rows:8,required:!0}),_.message&&(0,t.jsx)(n.A,{message:_.message,className:"p-apply__error"})]}),(0,t.jsxs)("div",{className:"p-apply__actions",children:[(0,t.jsx)(r.N_,{href:route("job-listings.show",a.id),className:"p-apply__cancel-button",children:"キャンセル"}),(0,t.jsx)("button",{type:"submit",className:"p-apply__submit-button",disabled:m,children:m?"送信中...":"応募する"})]})]})]})})]})})]})}}}]);