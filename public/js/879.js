"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[879],{1332:(e,s,r)=>{r.d(s,{A:()=>i});var t=r(3589),a=r(6540),n=r(4848);function l(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,n,l,o=[],i=!0,c=!1;try{if(n=(r=r.call(e)).next,0===s){if(Object(r)!==r)return;i=!1}else for(;!(i=(t=n.call(r)).done)&&(o.push(t.value),o.length!==s);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(e,s)||function(e,s){if(e){if("string"==typeof e)return o(e,s);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,s):void 0}}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,s){(null==s||s>e.length)&&(s=e.length);for(var r=0,t=Array(s);r<s;r++)t[r]=e[r];return t}function i(e){var s=e.header,r=e.children,o=(0,t.N5)().props.auth.user,i=l((0,a.useState)(!1),2),c=i[0],d=i[1],u=l((0,a.useState)(!1),2),_=u[0],h=u[1],p=(0,a.useRef)(null),m=(0,a.useRef)(null),j=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=function(e){p.current&&!p.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,a.useEffect)((function(){var e=function(e){m.current&&!m.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,n.jsxs)("div",{className:"min-h-screen bg-f5f7fa",children:[(0,n.jsxs)("header",{className:"l-header",children:[(0,n.jsxs)("div",{className:"l-header__inner",children:[(0,n.jsx)(t.N_,{href:"/",className:"l-header__logo",children:(0,n.jsx)("span",{className:"l-header__logo-accent",children:"match"})}),(0,n.jsxs)("nav",{className:"l-header__nav",children:[(0,n.jsx)(t.N_,{href:"/job-listings",className:"l-header__nav-link",children:"案件一覧"}),(0,n.jsx)(t.N_,{href:"/post-job",className:"l-header__nav-link",children:"案件を投稿"}),(0,n.jsxs)("div",{className:"l-header__user-menu",ref:p,children:[(0,n.jsxs)("button",{onClick:function(){return d(!c)},className:"l-header__user-button",children:[(0,n.jsx)("div",{className:"l-header__user-avatar",children:o.avatar?(0,n.jsx)("img",{src:o.avatar.startsWith("/")?o.avatar:"/".concat(o.avatar),alt:"".concat(o.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=o.name.charAt(0).toUpperCase())}}):o.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{className:"l-header__user-info",children:[(0,n.jsx)("span",{className:"l-header__login-status",children:"ログイン中"}),(0,n.jsxs)("span",{className:"l-header__user-name",children:[o.name,"さん"]})]}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M6 9l6 6 6-6"})})]}),c&&(0,n.jsxs)("div",{className:"l-header__dropdown",children:[(0,n.jsx)(t.N_,{href:route("dashboard"),className:"l-header__dropdown-item",children:"マイページ"}),(0,n.jsx)(t.N_,{href:route("profile.edit"),className:"l-header__dropdown-item",children:"プロフィール編集"}),(0,n.jsx)(t.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__dropdown-item l-header__dropdown-item--danger",children:"ログアウト"})]})]})]}),(0,n.jsx)("button",{className:"l-header__mobile-button",onClick:function(){return h(!_)},ref:j,children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,n.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,n.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,n.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),_&&(0,n.jsxs)("div",{className:"l-header__mobile-menu",ref:m,children:[(0,n.jsxs)("div",{className:"l-header__mobile-user",children:[(0,n.jsx)("div",{className:"l-header__user-avatar",children:o.avatar?(0,n.jsx)("img",{src:o.avatar.startsWith("/")?o.avatar:"/".concat(o.avatar),alt:"".concat(o.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=o.name.charAt(0).toUpperCase())}}):o.name.charAt(0).toUpperCase()}),(0,n.jsxs)("div",{className:"l-header__mobile-user-info",children:[(0,n.jsxs)("span",{className:"l-header__mobile-user-name",children:[o.name,"さん"]}),(0,n.jsx)("span",{className:"l-header__mobile-login-status",children:"ログイン中"})]})]}),(0,n.jsx)(t.N_,{href:"/job-listings",className:"l-header__mobile-link",children:"案件一覧"}),(0,n.jsx)(t.N_,{href:"/post-job",className:"l-header__mobile-link",children:"案件を投稿"}),(0,n.jsx)(t.N_,{href:route("dashboard"),className:"l-header__mobile-link",children:"マイページ"}),(0,n.jsx)(t.N_,{href:route("profile.edit"),className:"l-header__mobile-link",children:"プロフィール編集"}),(0,n.jsx)(t.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__mobile-link l-header__mobile-link--danger",children:"ログアウト"})]})]}),s&&(0,n.jsx)("div",{className:"p-dashboard__header",children:(0,n.jsx)("div",{className:"p-dashboard__header-inner",children:s})}),(0,n.jsx)("main",{className:"main-content",children:r}),(0,n.jsx)("footer",{className:"l-footer",children:(0,n.jsxs)("div",{className:"l-footer__container",children:[(0,n.jsxs)("div",{className:"l-footer__content",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(t.N_,{href:"/",className:"l-footer__logo",children:(0,n.jsx)("span",{className:"l-footer__logo-accent",children:"match"})}),(0,n.jsx)("p",{className:"l-footer__description",children:"エンジニア向けの案件マッチングサービス。 単発案件からレベニューシェア案件まで、 シンプルに探せて、すぐに応募できます。"}),(0,n.jsx)("div",{className:"l-footer__social",children:(0,n.jsx)("a",{href:"#",className:"l-footer__social-icon",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,n.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"l-footer__heading",children:"案件を探す"}),(0,n.jsxs)("ul",{className:"l-footer__links",children:[(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(t.N_,{href:"/job-listings?type=onetime",className:"l-footer__link",children:"単発案件"})}),(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(t.N_,{href:"/job-listings?type=revenue",className:"l-footer__link",children:"レベニューシェア案件"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"l-footer__heading",children:"アカウント"}),(0,n.jsxs)("ul",{className:"l-footer__links",children:[(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(t.N_,{href:route("dashboard"),className:"l-footer__link",children:"マイページ"})}),(0,n.jsx)("li",{className:"l-footer__link-item",children:(0,n.jsx)(t.N_,{href:route("profile.edit"),className:"l-footer__link",children:"プロフィール編集"})})]})]})]}),(0,n.jsxs)("div",{className:"l-footer__copyright",children:["© ",(new Date).getFullYear()," match. All rights reserved."]})]})})]})}},4294:(e,s,r)=>{r.d(s,{A:()=>a});var t=r(4848);function a(e){var s=e.message,r=e.className,a=void 0===r?"":r;return s?(0,t.jsx)("div",{className:"c-error ".concat(a),children:s}):null}},7879:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var t=r(6540),a=r(3589),n=r(1332),l=r(4294),o=r(4848);function i(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,n,l,o=[],i=!0,c=!1;try{if(n=(r=r.call(e)).next,0===s){if(Object(r)!==r)return;i=!1}else for(;!(i=(t=n.call(r)).done)&&(o.push(t.value),o.length!==s);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw a}}return o}}(e,s)||c(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,s){if(e){if("string"==typeof e)return d(e,s);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,s):void 0}}function d(e,s){(null==s||s>e.length)&&(s=e.length);for(var r=0,t=Array(s);r<s;r++)t[r]=e[r];return t}function u(e){e.auth;var s,r,c=e.jobListing,d=i((0,t.useState)(""),2),u=(d[0],d[1],i((0,t.useState)(""),2)),_=(u[0],u[1],(0,a.mN)({title:c.title,type:c.type,description:c.description,budget_min:(null===(s=c.budget_min)||void 0===s?void 0:s.toString())||"",budget_max:(null===(r=c.budget_max)||void 0===r?void 0:r.toString())||"",skills:[],preferred_skills:[],is_closed:c.is_closed})),h=_.data,p=_.setData,m=_.put,j=_.processing,x=_.errors;_.reset;return(0,o.jsxs)(n.A,{header:(0,o.jsx)("div",{className:"p-post-job__title",children:"案件を編集"}),children:[(0,o.jsx)(a.p3,{title:"案件を編集 - Match"}),(0,o.jsx)("div",{className:"p-post-job",children:(0,o.jsxs)("div",{className:"p-post-job__container",children:[(0,o.jsxs)("div",{className:"p-post-job__header",children:[(0,o.jsx)("h1",{className:"p-post-job__title",children:"案件を編集する"}),(0,o.jsx)("p",{className:"p-post-job__subtitle",children:"案件情報を編集してください。"})]}),(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m(route("job-listings.update",c.id))},className:"p-post-job__form",children:[(0,o.jsxs)("div",{className:"p-post-job__section",children:[(0,o.jsx)("h2",{className:"p-post-job__section-title",children:"基本情報"}),(0,o.jsxs)("div",{className:"p-post-job__form-group",children:[(0,o.jsxs)("label",{htmlFor:"title",className:"p-post-job__label",children:["案件タイトル"," ",(0,o.jsx)("span",{className:"p-post-job__required",children:"必須"})]}),(0,o.jsx)("input",{id:"title",type:"text",className:"p-post-job__input ".concat(x.title?"p-post-job__input--error":""),placeholder:"例：Reactを使用したウェブアプリ開発",value:h.title,onChange:function(e){return p("title",e.target.value)},required:!0}),x.title&&(0,o.jsx)(l.A,{message:x.title,className:"mt-1"})]}),(0,o.jsxs)("div",{className:"p-post-job__form-group",children:[(0,o.jsxs)("label",{className:"p-post-job__label",children:["案件種別"," ",(0,o.jsx)("span",{className:"p-post-job__required",children:"必須"})]}),(0,o.jsxs)("div",{className:"p-post-job__radio-group",children:[(0,o.jsxs)("label",{className:"p-post-job__radio",children:[(0,o.jsx)("input",{type:"radio",name:"type",value:"one_time",checked:"one_time"===h.type,onChange:function(){return p("type","one_time")},className:"p-post-job__radio-input"}),(0,o.jsx)("span",{className:"p-post-job__radio-text",children:"単発案件"})]}),(0,o.jsxs)("label",{className:"p-post-job__radio",children:[(0,o.jsx)("input",{type:"radio",name:"type",value:"revenue_share",checked:"revenue_share"===h.type,onChange:function(){return p("type","revenue_share")},className:"p-post-job__radio-input"}),(0,o.jsx)("span",{className:"p-post-job__radio-text",children:"レベニューシェア"})]})]}),x.type&&(0,o.jsx)(l.A,{message:x.type,className:"mt-1"})]}),"one_time"===h.type&&(0,o.jsxs)("div",{className:"p-post-job__form-group",children:[(0,o.jsxs)("label",{className:"p-post-job__label",children:["予算"," ",(0,o.jsx)("span",{className:"p-post-job__required",children:"必須"})]}),(0,o.jsxs)("div",{className:"p-post-job__budget-inputs",children:[(0,o.jsxs)("div",{className:"p-post-job__budget-input-group",children:[(0,o.jsx)("input",{type:"number",placeholder:"最小予算",value:h.budget_min,onChange:function(e){return p("budget_min",e.target.value)},className:"p-post-job__input ".concat(x.budget_min?"p-post-job__input--error":""),min:"0"}),(0,o.jsx)("span",{className:"p-post-job__budget-unit",children:"千円"})]}),(0,o.jsx)("span",{className:"p-post-job__budget-separator",children:"〜"}),(0,o.jsxs)("div",{className:"p-post-job__budget-input-group",children:[(0,o.jsx)("input",{type:"number",placeholder:"最大予算",value:h.budget_max,onChange:function(e){return p("budget_max",e.target.value)},className:"p-post-job__input ".concat(x.budget_max?"p-post-job__input--error":""),min:"0"}),(0,o.jsx)("span",{className:"p-post-job__budget-unit",children:"千円"})]})]}),x.budget_min&&(0,o.jsx)(l.A,{message:x.budget_min,className:"mt-1"}),x.budget_max&&(0,o.jsx)(l.A,{message:x.budget_max,className:"mt-1"})]}),(0,o.jsxs)("div",{className:"p-post-job__form-group",children:[(0,o.jsxs)("label",{htmlFor:"description",className:"p-post-job__label",children:["案件内容の詳細"," ",(0,o.jsx)("span",{className:"p-post-job__required",children:"必須"})]}),(0,o.jsx)("textarea",{id:"description",className:"p-post-job__textarea ".concat(x.description?"p-post-job__textarea--error":""),placeholder:"案件の詳細を記入してください。例：\n- 求めるスキルや経験\n- 作業内容の詳細\n- 納期や期間\n- コミュニケーション方法\nなど",value:h.description,onChange:function(e){return p("description",e.target.value)},rows:8,required:!0}),x.description&&(0,o.jsx)(l.A,{message:x.description,className:"mt-1"})]}),(0,o.jsxs)("div",{className:"p-post-job__form-group",children:[(0,o.jsx)("label",{className:"p-post-job__label",children:"募集ステータス"}),(0,o.jsxs)("div",{className:"p-post-job__toggle",children:[(0,o.jsxs)("label",{className:"p-post-job__toggle-label",children:[(0,o.jsx)("input",{type:"checkbox",checked:h.is_closed,onChange:function(){return p("is_closed",!h.is_closed)},className:"p-post-job__toggle-input"}),(0,o.jsx)("span",{className:"p-post-job__toggle-slider"})]}),(0,o.jsx)("span",{className:"p-post-job__toggle-text",children:h.is_closed?"募集終了":"募集中"})]})]})]}),(0,o.jsx)("div",{className:"p-post-job__actions",children:(0,o.jsx)("button",{type:"submit",className:"p-post-job__submit",disabled:j,children:j?"更新中...":"案件を更新する"})})]})]})})]})}}}]);