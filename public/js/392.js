"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[392],{1332:(e,a,s)=>{s.d(a,{A:()=>c});var n=s(3589),r=s(6540),t=s(4848);function i(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,r,t,i,l=[],c=!0,o=!1;try{if(t=(s=s.call(e)).next,0===a){if(Object(s)!==s)return;c=!1}else for(;!(c=(n=t.call(s)).done)&&(l.push(n.value),l.length!==a);c=!0);}catch(e){o=!0,r=e}finally{try{if(!c&&null!=s.return&&(i=s.return(),Object(i)!==i))return}finally{if(o)throw r}}return l}}(e,a)||function(e,a){if(e){if("string"==typeof e)return l(e,a);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?l(e,a):void 0}}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,a){(null==a||a>e.length)&&(a=e.length);for(var s=0,n=Array(a);s<a;s++)n[s]=e[s];return n}function c(e){var a=e.header,s=e.children,l=(0,n.N5)().props.auth.user,c=i((0,r.useState)(!1),2),o=c[0],d=c[1],h=i((0,r.useState)(!1),2),_=h[0],p=h[1],u=(0,r.useRef)(null),m=(0,r.useRef)(null),j=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=function(e){u.current&&!u.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,r.useEffect)((function(){var e=function(e){m.current&&!m.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&p(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,t.jsxs)("div",{className:"min-h-screen bg-f5f7fa",children:[(0,t.jsxs)("header",{className:"l-header",children:[(0,t.jsxs)("div",{className:"l-header__inner",children:[(0,t.jsx)(n.N_,{href:"/",className:"l-header__logo",children:(0,t.jsx)("span",{className:"l-header__logo-accent",children:"match"})}),(0,t.jsxs)("nav",{className:"l-header__nav",children:[(0,t.jsx)(n.N_,{href:"/job-listings",className:"l-header__nav-link",children:"案件一覧"}),(0,t.jsx)(n.N_,{href:"/post-job",className:"l-header__nav-link",children:"案件を投稿"}),(0,t.jsxs)("div",{className:"l-header__user-menu",ref:u,children:[(0,t.jsxs)("button",{onClick:function(){return d(!o)},className:"l-header__user-button",children:[(0,t.jsx)("div",{className:"l-header__user-avatar",children:l.avatar?(0,t.jsx)("img",{src:l.avatar.startsWith("/")?l.avatar:"/".concat(l.avatar),alt:"".concat(l.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=l.name.charAt(0).toUpperCase())}}):l.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"l-header__user-info",children:[(0,t.jsx)("span",{className:"l-header__login-status",children:"ログイン中"}),(0,t.jsxs)("span",{className:"l-header__user-name",children:[l.name,"さん"]})]}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M6 9l6 6 6-6"})})]}),o&&(0,t.jsxs)("div",{className:"l-header__dropdown",children:[(0,t.jsx)(n.N_,{href:route("dashboard"),className:"l-header__dropdown-item",children:"マイページ"}),(0,t.jsx)(n.N_,{href:route("profile.edit"),className:"l-header__dropdown-item",children:"プロフィール編集"}),(0,t.jsx)(n.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__dropdown-item l-header__dropdown-item--danger",children:"ログアウト"})]})]})]}),(0,t.jsx)("button",{className:"l-header__mobile-button",onClick:function(){return p(!_)},ref:j,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,t.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,t.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),_&&(0,t.jsxs)("div",{className:"l-header__mobile-menu",ref:m,children:[(0,t.jsxs)("div",{className:"l-header__mobile-user",children:[(0,t.jsx)("div",{className:"l-header__user-avatar",children:l.avatar?(0,t.jsx)("img",{src:l.avatar.startsWith("/")?l.avatar:"/".concat(l.avatar),alt:"".concat(l.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=l.name.charAt(0).toUpperCase())}}):l.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"l-header__mobile-user-info",children:[(0,t.jsxs)("span",{className:"l-header__mobile-user-name",children:[l.name,"さん"]}),(0,t.jsx)("span",{className:"l-header__mobile-login-status",children:"ログイン中"})]})]}),(0,t.jsx)(n.N_,{href:"/job-listings",className:"l-header__mobile-link",children:"案件一覧"}),(0,t.jsx)(n.N_,{href:"/post-job",className:"l-header__mobile-link",children:"案件を投稿"}),(0,t.jsx)(n.N_,{href:route("dashboard"),className:"l-header__mobile-link",children:"マイページ"}),(0,t.jsx)(n.N_,{href:route("profile.edit"),className:"l-header__mobile-link",children:"プロフィール編集"}),(0,t.jsx)(n.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__mobile-link l-header__mobile-link--danger",children:"ログアウト"})]})]}),a&&(0,t.jsx)("div",{className:"p-dashboard__header",children:(0,t.jsx)("div",{className:"p-dashboard__header-inner",children:a})}),(0,t.jsx)("main",{className:"main-content",children:s}),(0,t.jsx)("footer",{className:"l-footer",children:(0,t.jsxs)("div",{className:"l-footer__container",children:[(0,t.jsxs)("div",{className:"l-footer__content",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.N_,{href:"/",className:"l-footer__logo",children:(0,t.jsx)("span",{className:"l-footer__logo-accent",children:"match"})}),(0,t.jsx)("p",{className:"l-footer__description",children:"エンジニア向けの案件マッチングサービス。 単発案件からレベニューシェア案件まで、 シンプルに探せて、すぐに応募できます。"}),(0,t.jsx)("div",{className:"l-footer__social",children:(0,t.jsx)("a",{href:"#",className:"l-footer__social-icon",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"l-footer__heading",children:"案件を探す"}),(0,t.jsxs)("ul",{className:"l-footer__links",children:[(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(n.N_,{href:"/job-listings?type=onetime",className:"l-footer__link",children:"単発案件"})}),(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(n.N_,{href:"/job-listings?type=revenue",className:"l-footer__link",children:"レベニューシェア案件"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"l-footer__heading",children:"アカウント"}),(0,t.jsxs)("ul",{className:"l-footer__links",children:[(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(n.N_,{href:route("dashboard"),className:"l-footer__link",children:"マイページ"})}),(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(n.N_,{href:route("profile.edit"),className:"l-footer__link",children:"プロフィール編集"})})]})]})]}),(0,t.jsxs)("div",{className:"l-footer__copyright",children:["© ",(new Date).getFullYear()," match. All rights reserved."]})]})})]})}},3392:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var n=s(3589),r=s(1332),t=s(4848);function i(e){e.auth;var a=e.applications,s=function(e){switch(e){case"pending":return"応募中（確認待ち）";case"accepted":return"承認済み";case"declined":return"不採用";default:return""}},i=function(e){switch(e){case"pending":return"p-applications__status--pending";case"accepted":return"p-applications__status--accepted";case"declined":return"p-applications__status--declined";default:return""}},l=function(e,a){confirm("この応募を".concat("accepted"===a?"承認":"拒否","してよろしいですか？"))&&n.QB.patch(route("applications.update-status",[e,a]))},c=a.filter((function(e){return null!=e.jobListing})),o={};return c.forEach((function(e){o[e.job_listing_id]||(o[e.job_listing_id]=[]),o[e.job_listing_id].push(e)})),(0,t.jsxs)(r.A,{header:(0,t.jsx)("div",{className:"p-applications__title",children:"応募一覧"}),children:[(0,t.jsx)(n.p3,{title:"自分の案件への応募一覧 - Match"}),(0,t.jsx)("div",{className:"p-applications",children:(0,t.jsxs)("div",{className:"p-applications__container",children:[(0,t.jsxs)("div",{className:"p-applications__tabs",children:[(0,t.jsx)(n.N_,{href:route("applications.index"),className:"p-applications__tab",children:"応募した案件"}),(0,t.jsx)(n.N_,{href:route("applications.to-my-jobs"),className:"p-applications__tab p-applications__tab--active",children:"自分の案件への応募"})]}),(0,t.jsx)("div",{className:"p-applications__content",children:(0,t.jsxs)("div",{className:"p-applications__card",children:[(0,t.jsx)("h1",{className:"p-applications__card-title",children:"自分の案件への応募一覧"}),Object.keys(o).length>0?(0,t.jsx)(t.Fragment,{children:Object.keys(o).map((function(e){var a,r=o[Number(e)];if(null===(a=r[0])||void 0===a||!a.jobListing)return null;var c=r[0].jobListing;return(0,t.jsxs)("div",{className:"p-applications__job-group",children:[(0,t.jsxs)("div",{className:"p-applications__job-header",children:[(0,t.jsx)(n.N_,{href:route("job-listings.show",c.id),className:"p-applications__job-title",children:c.title}),(0,t.jsx)("div",{className:"p-applications__job-status",children:c.is_closed?(0,t.jsx)("span",{className:"p-applications__job-closed",children:"募集終了"}):(0,t.jsx)("span",{className:"p-applications__job-open",children:"募集中"})})]}),(0,t.jsx)("div",{className:"p-applications__list",children:r.map((function(e){return(0,t.jsxs)("div",{className:"p-applications__item",children:[(0,t.jsxs)("div",{className:"p-applications__item-header",children:[(0,t.jsxs)("div",{className:"p-applications__applicant-info",children:[(0,t.jsx)("div",{className:"p-applications__applicant-name",children:e.user.name}),(0,t.jsxs)("div",{className:"p-applications__applied-date",children:["応募日:"," ",(a=e.created_at,new Date(a).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"}))]})]}),(0,t.jsx)("div",{className:"p-applications__status ".concat(i(e.status)),children:s(e.status)})]}),(0,t.jsxs)("div",{className:"p-applications__item-body",children:[(0,t.jsxs)("div",{className:"p-applications__message",children:[(0,t.jsx)("h3",{className:"p-applications__message-title",children:"応募メッセージ:"}),(0,t.jsx)("div",{className:"p-applications__message-content",children:e.message})]}),"pending"===e.status&&!c.is_closed&&(0,t.jsxs)("div",{className:"p-applications__actions",children:[(0,t.jsx)("button",{onClick:function(){return l(e.id,"accepted")},className:"p-applications__accept-button",children:"承認する"}),(0,t.jsx)("button",{onClick:function(){return l(e.id,"declined")},className:"p-applications__decline-button",children:"拒否する"})]})]})]},e.id);var a}))})]},e)}))}):(0,t.jsx)("div",{className:"p-applications__empty",children:(0,t.jsx)("p",{className:"p-applications__empty-message",children:"まだあなたの案件への応募はありません。"})})]})})]})})]})}}}]);