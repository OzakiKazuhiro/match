"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[877],{1332:(e,r,a)=>{a.d(r,{A:()=>o});var s=a(3589),n=a(6540),t=a(4848);function l(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var s,n,t,l,i=[],o=!0,c=!1;try{if(t=(a=a.call(e)).next,0===r){if(Object(a)!==a)return;o=!1}else for(;!(o=(s=t.call(a)).done)&&(i.push(s.value),i.length!==r);o=!0);}catch(e){c=!0,n=e}finally{try{if(!o&&null!=a.return&&(l=a.return(),Object(l)!==l))return}finally{if(c)throw n}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return i(e,r);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,s=Array(r);a<r;a++)s[a]=e[a];return s}function o(e){var r=e.header,a=e.children,i=(0,s.N5)().props.auth.user,o=l((0,n.useState)(!1),2),c=o[0],d=o[1],h=l((0,n.useState)(!1),2),m=h[0],u=h[1],_=(0,n.useRef)(null),f=(0,n.useRef)(null),x=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e=function(e){_.current&&!_.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,n.useEffect)((function(){var e=function(e){f.current&&!f.current.contains(e.target)&&x.current&&!x.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[]),(0,t.jsxs)("div",{className:"min-h-screen bg-f5f7fa",children:[(0,t.jsxs)("header",{className:"l-header",children:[(0,t.jsxs)("div",{className:"l-header__inner",children:[(0,t.jsx)(s.N_,{href:"/",className:"l-header__logo",children:(0,t.jsx)("span",{className:"l-header__logo-accent",children:"match"})}),(0,t.jsxs)("nav",{className:"l-header__nav",children:[(0,t.jsx)(s.N_,{href:"/job-listings",className:"l-header__nav-link",children:"案件一覧"}),(0,t.jsx)(s.N_,{href:"/post-job",className:"l-header__nav-link",children:"案件を投稿"}),(0,t.jsxs)("div",{className:"l-header__user-menu",ref:_,children:[(0,t.jsxs)("button",{onClick:function(){return d(!c)},className:"l-header__user-button",children:[(0,t.jsx)("div",{className:"l-header__user-avatar",children:i.avatar?(0,t.jsx)("img",{src:i.avatar.startsWith("/")?i.avatar:"/".concat(i.avatar),alt:"".concat(i.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=i.name.charAt(0).toUpperCase())}}):i.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"l-header__user-info",children:[(0,t.jsx)("span",{className:"l-header__login-status",children:"ログイン中"}),(0,t.jsxs)("span",{className:"l-header__user-name",children:[i.name,"さん"]})]}),(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M6 9l6 6 6-6"})})]}),c&&(0,t.jsxs)("div",{className:"l-header__dropdown",children:[(0,t.jsx)(s.N_,{href:route("dashboard"),className:"l-header__dropdown-item",children:"マイページ"}),(0,t.jsx)(s.N_,{href:route("profile.edit"),className:"l-header__dropdown-item",children:"プロフィール編集"}),(0,t.jsx)(s.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__dropdown-item l-header__dropdown-item--danger",children:"ログアウト"})]})]})]}),(0,t.jsx)("button",{className:"l-header__mobile-button",onClick:function(){return u(!m)},ref:x,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,t.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,t.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})})]}),m&&(0,t.jsxs)("div",{className:"l-header__mobile-menu",ref:f,children:[(0,t.jsxs)("div",{className:"l-header__mobile-user",children:[(0,t.jsx)("div",{className:"l-header__user-avatar",children:i.avatar?(0,t.jsx)("img",{src:i.avatar.startsWith("/")?i.avatar:"/".concat(i.avatar),alt:"".concat(i.name,"のアバター"),onError:function(e){e.currentTarget.onerror=null,e.currentTarget.src="",e.currentTarget.parentElement&&(e.currentTarget.parentElement.innerHTML=i.name.charAt(0).toUpperCase())}}):i.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{className:"l-header__mobile-user-info",children:[(0,t.jsxs)("span",{className:"l-header__mobile-user-name",children:[i.name,"さん"]}),(0,t.jsx)("span",{className:"l-header__mobile-login-status",children:"ログイン中"})]})]}),(0,t.jsx)(s.N_,{href:"/job-listings",className:"l-header__mobile-link",children:"案件一覧"}),(0,t.jsx)(s.N_,{href:"/post-job",className:"l-header__mobile-link",children:"案件を投稿"}),(0,t.jsx)(s.N_,{href:route("dashboard"),className:"l-header__mobile-link",children:"マイページ"}),(0,t.jsx)(s.N_,{href:route("profile.edit"),className:"l-header__mobile-link",children:"プロフィール編集"}),(0,t.jsx)(s.N_,{href:route("logout"),method:"post",as:"button",className:"l-header__mobile-link l-header__mobile-link--danger",children:"ログアウト"})]})]}),r&&(0,t.jsx)("div",{className:"p-dashboard__header",children:(0,t.jsx)("div",{className:"p-dashboard__header-inner",children:r})}),(0,t.jsx)("main",{className:"main-content",children:a}),(0,t.jsx)("footer",{className:"l-footer",children:(0,t.jsxs)("div",{className:"l-footer__container",children:[(0,t.jsxs)("div",{className:"l-footer__content",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(s.N_,{href:"/",className:"l-footer__logo",children:(0,t.jsx)("span",{className:"l-footer__logo-accent",children:"match"})}),(0,t.jsx)("p",{className:"l-footer__description",children:"エンジニア向けの案件マッチングサービス。 単発案件からレベニューシェア案件まで、 シンプルに探せて、すぐに応募できます。"}),(0,t.jsx)("div",{className:"l-footer__social",children:(0,t.jsx)("a",{href:"#",className:"l-footer__social-icon",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,t.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"l-footer__heading",children:"案件を探す"}),(0,t.jsxs)("ul",{className:"l-footer__links",children:[(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(s.N_,{href:"/job-listings?type=onetime",className:"l-footer__link",children:"単発案件"})}),(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(s.N_,{href:"/job-listings?type=revenue",className:"l-footer__link",children:"レベニューシェア案件"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"l-footer__heading",children:"アカウント"}),(0,t.jsxs)("ul",{className:"l-footer__links",children:[(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(s.N_,{href:route("dashboard"),className:"l-footer__link",children:"マイページ"})}),(0,t.jsx)("li",{className:"l-footer__link-item",children:(0,t.jsx)(s.N_,{href:route("profile.edit"),className:"l-footer__link",children:"プロフィール編集"})})]})]})]}),(0,t.jsxs)("div",{className:"l-footer__copyright",children:["© ",(new Date).getFullYear()," match. All rights reserved."]})]})})]})}},9877:(e,r,a)=>{a.r(r),a.d(r,{default:()=>i});a(6540);var s=a(3589),n=a(1332),t=a(4848);function l(e){var r=new Date(e),a=new Date,s=Math.floor((a.getTime()-r.getTime())/1e3);if(s<60)return"".concat(s,"秒前");var n=Math.floor(s/60);if(n<60)return"".concat(n,"分前");var t=Math.floor(n/60);if(t<24)return"".concat(t,"時間前");var l=Math.floor(t/24);if(l<30)return"".concat(l,"日前");var i=Math.floor(l/30);if(i<12)return"".concat(i,"ヶ月前");var o=Math.floor(i/12);return"".concat(o,"年前")}function i(e){var r=e.auth,a=e.conversationGroups,i=r.user.id;return(0,t.jsxs)(n.A,{header:(0,t.jsx)("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"メッセージ"}),children:[(0,t.jsx)(s.p3,{title:"メッセージ"}),(0,t.jsx)("div",{className:"py-12",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:(0,t.jsx)("div",{className:"p-6 text-gray-900",children:0===a.length?(0,t.jsx)("p",{children:"メッセージはありません。"}):(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:a.map((function(e){var r,a,n=e.job_owner_id===i?e.applicant:e.job_owner;return(0,t.jsx)("li",{className:"py-4",children:(0,t.jsx)(s.N_,{href:"/messages/".concat(e.id),className:"block hover:bg-gray-50",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[n.avatar?(0,t.jsx)("img",{src:(a=n.avatar,a?a.startsWith("storage/avatars/")?"/".concat(a):"/storage/avatars/".concat(a):""),alt:n.name,className:"h-12 w-12 rounded-full"}):(0,t.jsx)("div",{className:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-bold",children:(r=n.name,r.split(" ").map((function(e){return e.charAt(0)})).join("").toUpperCase().substring(0,2))}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:n.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.latest_message?"".concat(e.latest_message.sender.id===i?"あなた: ":"").concat(e.latest_message.message):"メッセージがありません"})]}),e.latest_message&&(0,t.jsx)("div",{className:"text-xs text-gray-500",children:l(e.latest_message.created_at)})]})})},e.id)}))})})})})})]})}}}]);